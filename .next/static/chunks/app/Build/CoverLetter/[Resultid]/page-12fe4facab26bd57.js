(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6114],{40683:function(e,t,r){Promise.resolve().then(r.bind(r,9652))},9652:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(3827),o=r(64090),i=r(47907),a=r(75689),s=r(23241),c=r(14903);let l=(0,r(22020).ZP)(e=>({selectedTemplateIndex:0,coverLetterData:{},setSelectedTemplateIndex:t=>e({selectedTemplateIndex:t}),setcoverLetterData:t=>e({coverLetterData:t})}));var u=r(21713),d=()=>{let{selectedTemplateIndex:e,coverLetterData:t}=l(e=>({selectedTemplateIndex:e.selectedTemplateIndex,coverLetterData:e.coverLetterData})),r=u.Z[e].component;return(0,n.jsx)("div",{children:r&&(0,n.jsx)(r,{data:t})})},f=r(59332),h=()=>{let e=l(e=>e.setSelectedTemplateIndex),t=t=>{e(t),scroll(0,0)};return(0,n.jsxs)("div",{className:"max-w-[90%] mx-auto",children:[(0,n.jsx)("div",{className:"text-3xl text-center mb-6",children:"Styles"}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:u.Z.map((e,r)=>(0,n.jsxs)("div",{className:"border rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 ease-in-out cursor-pointer",onClick:()=>t(r),children:[(0,n.jsx)(f.l,{src:e.thumbnails,alt:e.name,className:"w-full h-auto"}),(0,n.jsx)("div",{className:"p-2 text-center",children:(0,n.jsx)("div",{className:"font-bold",children:e.name})})]},r))})]})},p=r(22521),m=r(85033);let v=e=>{let[t,r]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),a=l(e=>e.setcoverLetterData);return(0,o.useEffect)(()=>{(async()=>{if(e){r(!0);try{let t=await m.Z.get({endpoint:"/api/User/CoverLetter/getAllCoverLetter/".concat(e)});i(null==t?void 0:t.message.result),a(null==t?void 0:t.message)}catch(e){console.error("Failed to fetch cover letter",e),i(null)}finally{r(!1)}}})()},[e]),{description:n,loading:t,setDescription:i}};var y=r(76100),g=r(84590),x=r(62177),b=r(64077),w=r(4156),k=r(65615),j=r.n(k),T=r(26037),S=r(59033),E=()=>{let{updateCoverLetter:e,isLoading:t}=(0,S.g)("resultPage"),{setcoverLetterData:r,coverLetterData:i}=l(e=>({setcoverLetterData:e.setcoverLetterData,coverLetterData:e.coverLetterData})),[a,s]=(0,o.useState)((null==i?void 0:i.result)||"");(0,o.useEffect)(()=>{s((null==i?void 0:i.result)||"")},[null==i?void 0:i.result]);let c=async()=>{await e({result:a}),r({...i,result:a})};return(0,n.jsx)("div",{className:"my-20",children:(0,n.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,n.jsx)(j(),{onChange:e=>{r({...i,result:e}),s(e)},value:a,className:"block p-2.5 w-full text-sm h-[80vh] text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 overflow-y-scroll no-scrollbar",placeholder:"Edit Your Description"}),(0,n.jsx)("div",{onClick:c,children:(0,n.jsx)(T.Z,{disabled:t,text:t?"Loading...":"Save"})})]})})},L=r(5522),N=()=>{let{downloadPdfDocument:e,isLoading:t}=(0,b.j)(),{getUserSubscription:r,subscription:a,loadingSubscription:s}=(0,L.Z)(),c=(0,i.useRouter)(),[l,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{(async()=>{await r(),u(!0)})()},[]);let d=async()=>{l&&!s&&e("coverLetter")};return(0,n.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,n.jsxs)(g.Button,{onClick:()=>c.push("/dashboard"),className:"flex items-center bg-[#0f172a] text-white font-semibold py-2 px-4 rounded-lg shadow-md ml-8",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 mr-2",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"Dashboard"]}),(0,n.jsxs)("div",{className:"flex justify-end gap-x-3 my-4",children:[(0,n.jsxs)(g.Button,{onClick:d,disabled:t||s,className:"".concat(t||s?"bg-gray-300":"bg-[#f9e547] hover:bg-gray-50"," text-gray-700 font-semibold py-2 px-4 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-opacity-50"),children:[t||s?(0,n.jsx)(w.N,{}):(0,n.jsx)(x._8t,{className:"font-bold"}),"Download"]}),(0,n.jsx)(y.Z,{trigger:(0,n.jsx)(g.Button,{className:"bg-[#0f172a] text-white font-semibold py-2 px-4 rounded-lg shadow-md mr-4",disabled:t||s,children:"Quick Edit"}),children:(0,n.jsx)(E,{})})]})]})},C=r(52790),O=()=>{let{Resultid:e}=(0,i.useParams)(),{loading:t,description:r,setDescription:l}=v(e),[u,f]=o.useState({fontSize:12,fontFamily:"Arial",colorTheme:"default"});return t&&!r?(0,n.jsx)(p.Z,{}):(0,n.jsx)(C.Z,{topBar:(0,n.jsx)(N,{}),goBackToResumeEdit:(0,n.jsx)(s.Z,{type:"CoverLetter",cvId:e}),ChangeResume:(0,n.jsx)(c.Z,{title:"Customize Your Cover Letter",onUpdate:e=>{f(t=>({...t,...e}))}}),resumePreview:(0,n.jsx)(a.Z,{fontSize:u.fontSize,fontFamily:u.fontFamily,colorTheme:u.colorTheme,children:(0,n.jsx)(d,{})}),cvStylesChoose:(0,n.jsx)(h,{})})}},21713:function(e,t,r){"use strict";var n=r(3827),o=r(18413),i=r(24232);let a=(0,i.default)(()=>r.e(9555).then(r.bind(r,49555)),{loadableGenerated:{webpack:()=>[49555]},loading:()=>(0,n.jsx)(o.Skeleton,{className:"h-[90%] w-[700px]"}),ssr:!1}),s=(0,i.default)(()=>r.e(9834).then(r.bind(r,9834)),{loadableGenerated:{webpack:()=>[9834]},loading:()=>(0,n.jsx)(o.Skeleton,{className:"h-[90%] w-full"}),ssr:!1}),c="/CoverLetterTemplate";t.Z=[{name:"Dev Cover Letter 1",component:a,thumbnails:"".concat(c,"/template-cl.png")},{name:"Dev Cover Letter 2",component:s,thumbnails:"".concat(c,"/template-cl2.png")}]},59033:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var n=r(79430),o=r(7908),i=r(47907),a=r(64090);let s=e=>{let t;let[r,s]=(0,a.useState)(),{Resultid:c}=(0,i.useParams)();return t="resultPage"==e?c:(0,n.Q)("id"),{updateCoverLetter:async e=>{s(!0);try{let r="".concat(window.location.origin,"/api/User/CoverLetter/").concat(t);return await o.Z.patch(r,e)}catch(e){}finally{s(!1)}},isLoading:r}}},34870:function(e,t,r){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};t.kT=t.d8=t.ej=t.$1=void 0;var i=r(18600),a=function(){return!0},s=function(e){return!!e&&"getAll"in e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},c=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&s(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&s(null==e?void 0:e.res.cookies)||!!(null==e?void 0:e.cookies)&&s(e.cookies())},l=function(e){var t={};return e.getAll().forEach(function(e){var r=e.name,n=e.value;t[r]=n}),t},u=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.$1=function(e){if(c(e)){if(null==e?void 0:e.req)return l(e.req.cookies);if(null==e?void 0:e.cookies)return l(e.cookies())}if(e&&(t=e.req),!a())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,i.parse)(t.headers.cookie):{};for(var t,r={},n=document.cookie?document.cookie.split("; "):[],o=0,s=n.length;o<s;o++){var u=n[o].split("="),d=u.slice(1).join("=");r[u[0]]=d}return r},t.ej=function(e,r){var n=(0,t.$1)(r)[e];if(void 0!==n)return n?n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):n},t.d8=function(e,t,r){if(c(r)){var s,l,d,f=r.req,h=r.res,p=r.cookies,m=o(r,["req","res","cookies"]),v=n({name:e,value:t},m);f&&f.cookies.set(v),h&&h.cookies.set(v),p&&p().set(v);return}if(r){var f=r.req,h=r.res,y=o(r,["req","res"]);l=f,d=h,s=y}var g=(0,i.serialize)(e,u(t),n({path:"/"},s));if(a())document.cookie=g;else if(d&&l){var x=d.getHeader("Set-Cookie");if(Array.isArray(x)||(x=x?[String(x)]:[]),d.setHeader("Set-Cookie",x.concat(g)),l&&l.cookies){var b=l.cookies;""===t?delete b[e]:b[e]=u(t)}if(l&&l.headers&&l.headers.cookie){var b=(0,i.parse)(l.headers.cookie);""===t?delete b[e]:b[e]=u(t),l.headers.cookie=Object.entries(b).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.kT=function(e,r){return(0,t.d8)(e,"",n(n({},r),{maxAge:-1}))}},18600:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var r={},n=(t||{}).decode||o,i=0;i<e.length;){var a=e.indexOf("=",i);if(-1===a)break;var s=e.indexOf(";",i);if(-1===s)s=e.length;else if(s<a){i=e.lastIndexOf(";",a-1)+1;continue}var c=e.slice(i,a).trim();if(void 0===r[c]){var l=e.slice(a+1,s).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[c]=function(e,t){try{return t(e)}catch(t){return e}}(l,n)}i=s+1}return r},t.serialize=function(e,t,o){var a=o||{},s=a.encode||i;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var c=s(t);if(c&&!n.test(c))throw TypeError("argument val is invalid");var l=e+"="+c;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(a.domain){if(!n.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!n.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){var d=a.expires;if("[object Date]"!==r.call(d)&&!(d instanceof Date)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");l+="; Expires="+d.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.partitioned&&(l+="; Partitioned"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}function i(e){return encodeURIComponent(e)}},32215:function(e){"use strict";var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},85033:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(34870);let o=async(e,t)=>{let r=(0,n.ej)("token");return t={...t,headers:{...r?{Authorization:"Bearer ".concat(r)}:{Authorization:""},"Content-Type":"application/json",...t&&t.headers}},await fetch("".concat("http://localhost:3000").concat(e),t)};var i=r(32215);class a{static get token(){return(0,n.ej)("token")}static handleError(e){return e instanceof Error?Promise.reject(JSON.parse(e.message)):Promise.reject(e)}static async handleResponse(e){if(e.ok)return Promise.resolve(await e.json());throw Error(await e.text())}static async get(e){let{endpoint:t}=e;try{let e=await o(t,{method:"GET"});return a.handleResponse(e)}catch(e){return a.handleError(e)}}static async post(e){let{endpoint:t,body:r}=e;try{let e=await o(t,{body:JSON.stringify(r),method:"POST"});return a.handleResponse(e)}catch(e){return e}}static async put(e){let{endpoint:t,body:r}=e;try{let e=await o(t,{body:JSON.stringify(r),method:"PUT"});return a.handleResponse(e)}catch(e){return e}}static async patch(e){let{endpoint:t,body:r,config:n}=e;try{let e=await o(t,{body:JSON.stringify(r),method:"PATCH",...n});return a.handleResponse(e)}catch(e){return a.handleError(e)}}static async patchMultipart(e){let{endpoint:t,body:r}=e;try{let e=await fetch("".concat(i.env.NEXT_PUBLIC_BASE_URL).concat(t),{body:r,headers:{Authorization:"Bearer ".concat(a.token)},method:"PATCH"});return a.handleResponse(e)}catch(e){return a.handleError(e)}}static async delete(e){let{endpoint:t,body:r}=e;try{let e=await o(t,{body:JSON.stringify(r),method:"DELETE"});return a.handleResponse(e)}catch(e){return a.handleError(e)}}}var s=a}},function(e){e.O(0,[8310,4705,2505,3070,7337,4603,1829,1615,2150,9055,1411,703,3216,5615,9112,2521,2006,6647,2971,8069,1744],function(){return e(e.s=40683)}),_N_E=e.O()}]);