(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9256],{5038:function(e,t,r){Promise.resolve().then(r.bind(r,35473))},35473:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(3827),l=r(47907),s=r(98010),n=r(99781),i=r(8533),o=r(7908),c=r(64090);let d=()=>{let[e,t]=(0,c.useState)(!1);return{createProject:async function(){i.Z.localStorage.setItem("CoverLetterCurrentStep",0);try{t(!0);let e=await o.Z.post("".concat(window.location.origin,"/api/User/CoverLetter/createCoverLetter"));return t(!1),e}catch(e){}},isLoading:e}};var u=r(99517),x=r(8792),m=r(84590),h=r(12085),v=r(21713),p=r(2919),C=r(59332),f=r(66370);let w=e=>{let{item:t,templateComponents:r}=e,l=r[(null==t?void 0:t.templateId)||"Dev Resume 1"],{handleDelete:s,isDeleting:n}=(0,p.I)();return(0,a.jsxs)("div",{className:"border rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 ease-in-out cursor-pointer relative bg-white",children:[(0,a.jsxs)("div",{className:"flex flex-col p-6 items-center",children:[l&&(0,a.jsx)("div",{className:"w-20 h-20 mb-4",children:(0,a.jsx)(C.l,{src:l,alt:t.templateId,className:"rounded-full"})}),(0,a.jsxs)("div",{className:"text-center",children:[(null==t?void 0:t.createdAt)&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Created:"," ",(0,a.jsxs)("span",{className:"text-gray-800",children:[(0,f.Q)(new Date(null==t?void 0:t.createdAt))," ago"]})]}),(null==t?void 0:t.updatedAt)&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Updated:"," ",(0,a.jsxs)("span",{className:"text-gray-800",children:[(0,f.Q)(new Date(null==t?void 0:t.updatedAt))," ago"]})]})]}),(0,a.jsx)(x.default,{href:"/Build/CoverLetter/".concat((null==t?void 0:t.isComplete)?null==t?void 0:t._id:"?id=".concat(null==t?void 0:t._id)),children:(0,a.jsx)(m.Button,{className:"bg-yellow-500 text-black mt-4 w-full rounded-lg",children:(null==t?void 0:t.isComplete)?"View":"Continue"})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:t.templateId})]}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(m.Button,{onClick:()=>s(null==t?void 0:t._id),disabled:n,className:"bg-red-500 text-white rounded-full p-2",children:n?"Deleting":"Delete"})})]},null==t?void 0:t._id)};var g=()=>{let{cvData:e,isLoading:t}=(0,u.b)(),r=v.Z.reduce((e,t)=>(e[t.name]=t.thumbnails,e),{});return t?(0,a.jsx)("div",{className:"loading-indicator",children:(0,a.jsx)(h.J4,{})}):e.length?(0,a.jsx)("div",{className:"flex flex-wrap justify-center items-center gap-8 px-4 py-8",children:e.map(e=>(0,a.jsx)("div",{className:"w-full md:w-[300px] lg:w-[350px] bg-white rounded-2xl shadow-md overflow-hidden relative",children:(0,a.jsx)(w,{item:e,templateComponents:r})},e._id))}):(0,a.jsx)("div",{className:"text-center text-gray-600",children:"No CV history available."})};function j(){let e=(0,l.useRouter)(),{toast:t}=(0,s.pm)(),{createProject:r,isLoading:i}=d();async function o(){let{data:a}=await r();(null==a?void 0:a.message)&&(t({title:"Success! ✅",description:"Project created"}),e.push("/Build/CoverLetter?id=".concat(a.message)))}return(0,a.jsxs)("div",{className:"bg-gray-100 ",children:[(0,a.jsxs)("div",{className:"max-w-[90%] mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Get Started With Cover Letter"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(n.Z,{text:"Create New Cover Letter",desc:"Click here to create a new cover letter.",handleCreateCV:o,isLoading:i}),(0,a.jsx)("div",{className:"border-t  border-2"}),(0,a.jsx)("h1",{className:"text-center text-4xl text-bold my-5",children:"Continue"})]})]}),(0,a.jsx)(g,{})]})}},21713:function(e,t,r){"use strict";var a=r(3827),l=r(18413),s=r(24232);let n=(0,s.default)(()=>r.e(9555).then(r.bind(r,49555)),{loadableGenerated:{webpack:()=>[49555]},loading:()=>(0,a.jsx)(l.Skeleton,{className:"h-[90%] w-[700px]"}),ssr:!1}),i=(0,s.default)(()=>r.e(9834).then(r.bind(r,9834)),{loadableGenerated:{webpack:()=>[9834]},loading:()=>(0,a.jsx)(l.Skeleton,{className:"h-[90%] w-full"}),ssr:!1}),o="/CoverLetterTemplate";t.Z=[{name:"Dev Cover Letter 1",component:n,thumbnails:"".concat(o,"/template-cl.png")},{name:"Dev Cover Letter 2",component:i,thumbnails:"".concat(o,"/template-cl2.png")}]},2919:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var a=r(98010);r(85033),r(8533);var l=r(64095),s=r(7908),n=r(47907),i=r(64090);let o=()=>{let[e,t]=(0,i.useState)(!1);(0,l.NL)();let{toast:r}=(0,a.pm)();return(0,n.useRouter)(),{handleDelete:async e=>{t(!0),await s.Z.delete("/api/User/CoverLetter/delete-cv",{data:{id:e}}).then(e=>{r({title:"Success! ✅",description:"Cover letter deleted"}),setTimeout(()=>{window.location.reload()},3e3)}).catch(()=>{r({title:"Error",description:"An error occurred while deleting the cover letter.",status:"error"})}).finally(()=>{t(!1)})},isDeleting:e}}},99517:function(e,t,r){"use strict";r.d(t,{b:function(){return n}});var a=r(64090),l=r(85033);let s=async()=>{try{return await l.Z.get({endpoint:"/api/User/CoverLetter/getAllCoverLetter"})}catch(e){throw e}},n=()=>{let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),d=async()=>{l(!0),i(!1),c(null);try{let e=await s();t(e.message||[])}catch(e){i(!0),c(e)}finally{l(!1)}};return(0,a.useEffect)(()=>{d()},[]),{cvData:e,isLoading:r,isError:n,error:o,refetch:d}}},99781:function(e,t,r){"use strict";var a=r(3827),l=r(26037);r(64090),t.Z=e=>{let{text:t,desc:r,handleCreateCV:s,isLoading:n}=e;return(0,a.jsxs)("div",{className:"p-6 bg-white rounded-lg relative w-[300px] py-4 flex flex-col  shadow-md ",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"100",height:"100",viewBox:"0 0 128 128",children:(0,a.jsx)("path",{d:"M 64 6.0507812 C 49.15 6.0507812 34.3 11.7 23 23 C 0.4 45.6 0.4 82.4 23 105 C 34.3 116.3 49.2 122 64 122 C 78.8 122 93.7 116.3 105 105 C 127.6 82.4 127.6 45.6 105 23 C 93.7 11.7 78.85 6.0507812 64 6.0507812 z M 64 12 C 77.3 12 90.600781 17.099219 100.80078 27.199219 C 121.00078 47.499219 121.00078 80.500781 100.80078 100.80078 C 80.500781 121.10078 47.500781 121.10078 27.300781 100.80078 C 7.0007813 80.500781 6.9992188 47.499219 27.199219 27.199219 C 37.399219 17.099219 50.7 12 64 12 z M 64 42 C 62.3 42 61 43.3 61 45 L 61 61 L 45 61 C 43.3 61 42 62.3 42 64 C 42 65.7 43.3 67 45 67 L 61 67 L 61 83 C 61 84.7 62.3 86 64 86 C 65.7 86 67 84.7 67 83 L 67 67 L 83 67 C 84.7 67 86 65.7 86 64 C 86 62.3 84.7 61 83 61 L 67 61 L 67 45 C 67 43.3 65.7 42 64 42 z"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:t}),(0,a.jsx)("p",{className:"text-gray-600",children:r}),(0,a.jsx)("div",{className:"absoluste bottom-3",onClick:s,children:(0,a.jsx)(l.Z,{disabled:n,className:"!justify-start ",text:n?"Loading...":"Create"})})]})}},47907:function(e,t,r){"use strict";var a=r(15313);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},26037:function(e,t,r){"use strict";var a=r(3827),l=r(84590);r(64090),t.Z=e=>{let{text:t,disabled:r}=e;return(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)(l.Button,{disabled:r,type:"submit",className:"bg-[#F9E547] buttonShadow text-black hover:bg-yellow-600  font-bold py-2 px-4 rounded-r",children:t})})}},8533:function(e,t){"use strict";let r={};r=window,t.Z=r},64095:function(e,t,r){"use strict";r.d(t,{NL:function(){return i},aH:function(){return o}});var a=r(64090);let l=a.createContext(void 0),s=a.createContext(!1);function n(e,t){return e||(t?(window.ReactQueryClientContext||(window.ReactQueryClientContext=l),window.ReactQueryClientContext):l)}let i=function(){let{context:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.useContext(n(e,a.useContext(s)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},o=e=>{let{client:t,children:r,context:l,contextSharing:i=!1}=e;a.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);let o=n(l,i);return a.createElement(s.Provider,{value:!l&&i},a.createElement(o.Provider,{value:t},r))}}},function(e){e.O(0,[8310,4603,1829,1615,2150,703,8792,5951,5122,1821,2971,8069,1744],function(){return e(e.s=5038)}),_N_E=e.O()}]);