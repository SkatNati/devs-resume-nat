"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8290],{2641:function(e,t,r){var a=r(3827),n=r(84590);r(64090),t.Z=e=>{let{text:t,type:r,className:s,disabled:l=!1}=e;return(0,a.jsx)("div",{className:"flex justify-end ".concat(s),children:(0,a.jsx)(n.Button,{disabled:l,type:r,className:"bg-[#F9E547] buttonShadow text-black hover:bg-yellow-600  font-bold py-2 px-4 rounded-r",children:t})})}},38290:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var a=r(3827),n=r(64090),s=r(2641),l=r(79430),o=r(7908),i=r(35006),d=r(12393),c=r(64095);let u=e=>{var t,r,a,s;let[l,u]=(0,n.useState)(0),[h,p]=(0,n.useState)(null),[m,f]=(0,n.useState)(!1),{incrementSteps:x}=(0,i.w)("optimizeResume"),{currentCv:v}=(0,d.Z)(),g=(0,c.NL)(),[b,y]=(0,n.useState)(!1),{fileName:w,parsedText:j}=null!==(s=null==v?void 0:null===(a=v.message)||void 0===a?void 0:null===(r=a.optimizeResume)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.extractedCvText)&&void 0!==s?s:{};(0,n.useEffect)(()=>{j&&w&&p(!0)},[v]);let N=async e=>{let t=setInterval(()=>{u(e=>e>=100?(clearInterval(t),100):e+10)},200);p(e)},k=async()=>{f(!0);try{let t=new FormData;t.append("resumePDF",h),t.append("id",e),await o.Z.patch("/api/User/optimizeResume",t),g.invalidateQueries(["useGetCurrentUserResume",e]),x()}catch(e){y(!0),console.error("Error uploading file:",e)}finally{f(!1)}};return{handleUpload:N,uploadProgress:l,selectedFile:h,setSelectedFile:p,handleSubmitCvToExtract:k,isLoading:m,fileName:w,parsedText:j,handleFileChange:e=>{let t=e.target.files[0];t&&N(t)},handleDrop:e=>{e.preventDefault();let t=e.dataTransfer.files[0];t&&N(t)},error:b}};var h=r(81659),p=()=>{let{uploadProgress:e,selectedFile:t,setSelectedFile:r,handleSubmitCvToExtract:n,isLoading:o,fileName:i,parsedText:d,handleFileChange:c,handleDrop:p,error:m}=u((0,l.Q)("id"));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white  rounded-lg max-w-md w-full",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-6",children:"Upload Resume"}),(0,a.jsxs)("div",{className:"flex flex-col items-center border-2 border-dashed border-gray-300 rounded-lg p-10 mb-4",onDragOver:e=>e.preventDefault(),onDrop:p,children:[(0,a.jsx)("p",{className:"text-lg font-medium mb-2",children:"Choose a file or drag & drop it here"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"PDF or Word format, up to 50MB"}),(0,a.jsx)("input",{type:"file",accept:"application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword",onChange:c,style:{display:"none"},id:"file-upload"}),(0,a.jsx)("label",{htmlFor:"file-upload",className:"border border-[#F9E547] text-[#F9E547] font-bold py-2 px-4 rounded cursor-pointer",children:"Browse File"})]}),(0,a.jsx)(h.Z,{setSelectedFile:r,selectedFile:t,fileName:i,uploadProgress:e,parsedText:d})]}),m&&(0,a.jsx)("p",{className:"tect-red-500",children:"Error Occur"}),(0,a.jsx)("div",{onClick:n,children:(0,a.jsx)(s.Z,{disabled:o,text:o?"loading..":"Next"})})]})}},84590:function(e,t,r){r.r(t),r.d(t,{Button:function(){return u},ButtonIcon:function(){return h},buttonVariants:function(){return c}});var a=r(3827),n=r(64090),s=r(62177),l=r(59143),o=r(81615),i=r(57742),d=r(84353);let c=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{defaultVariants:{size:"default",variant:"default"},variants:{size:{auth:"h-11 w-full font-semibold text-base",default:"h-12 px-4 py-2 text-base",icon:"h-10 w-10",lg:"h-12 lg:h-[3.75rem] rounded-md px-7  text-lg",sm:"h-9 rounded-md px-3"},variant:{default:"bg-primaryx text-slate-50 hover:bg-primaryx-500/90 dark:bg-primaryx dark:text-slate-900 dark:hover:bg-primaryx-800",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50 text-primaryx-500",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50",outline:"border border-gray-300 bg-white hover:bg-gray-100 text-gray-700 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80"}}}),u=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:i=!1,hasAnimaion:u=!1,...h}=e,p=i?l.g7:"button";return u?(0,a.jsx)(o.E.div,{className:"w-full ",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,a.jsx)(p,{className:(0,d.cn)(c({className:r,size:s,variant:n})),ref:t,...h})}):(0,a.jsx)(p,{className:(0,d.cn)(c({className:r,size:s,variant:n})),ref:t,...h})});u.displayName="Button";let h=e=>{let{id:t}=e;return(0,a.jsx)(u,{id:t,variant:"outline",className:"h-7 w-7 rounded-full border-primaryx text-primaryx",size:"icon",children:(0,a.jsx)(s.XCv,{className:"h-4 w-4 text-sm"})})};h.displayName="ButtonIcon"},81659:function(e,t,r){var a=r(3827);r(64090),t.Z=e=>{let{fileName:t,uploadProgress:r,parsedText:n,selectedFile:s}=e;if(!s)return null;let l=s.name||t,o=null==l?void 0:l.split(".").pop().toLowerCase(),i="doc"===o||"docx"===o,d="/assets/Group 6.png";return i&&(d="/assets/word.png"),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex justify-between bg-gray-100 p-4 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("img",{alt:"pdf"===o?"PDF icon":"Word icon",className:"mr-2",height:"32",src:d,width:"32"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:s.name||t}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[r<100&&!n&&"Uploading",100===r&&n&&"Uploaded"]})]})]})}),s&&(0,a.jsx)("div",{className:"w-full ".concat(i?"bg-blue-100":"bg-yellow-100"," rounded-full h-1.5 mt-3"),children:(0,a.jsx)("div",{className:"".concat(i?"bg-blue-600":"bg-[#f9e547]"," h-1.5 rounded-full"),style:{width:"".concat(r,"%")}})})]})}},85033:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(34870);let n=async(e,t)=>{let r=(0,a.ej)("token");return t={...t,headers:{...r?{Authorization:"Bearer ".concat(r)}:{Authorization:""},"Content-Type":"application/json",...t&&t.headers}},await fetch("".concat("http://localhost:3000").concat(e),t)};var s=r(32215);class l{static get token(){return(0,a.ej)("token")}static handleError(e){return e instanceof Error?Promise.reject(JSON.parse(e.message)):Promise.reject(e)}static async handleResponse(e){if(e.ok)return Promise.resolve(await e.json());throw Error(await e.text())}static async get(e){let{endpoint:t}=e;try{let e=await n(t,{method:"GET"});return l.handleResponse(e)}catch(e){return l.handleError(e)}}static async post(e){let{endpoint:t,body:r}=e;try{let e=await n(t,{body:JSON.stringify(r),method:"POST"});return l.handleResponse(e)}catch(e){return e}}static async put(e){let{endpoint:t,body:r}=e;try{let e=await n(t,{body:JSON.stringify(r),method:"PUT"});return l.handleResponse(e)}catch(e){return e}}static async patch(e){let{endpoint:t,body:r,config:a}=e;try{let e=await n(t,{body:JSON.stringify(r),method:"PATCH",...a});return l.handleResponse(e)}catch(e){return l.handleError(e)}}static async patchMultipart(e){let{endpoint:t,body:r}=e;try{let e=await fetch("".concat(s.env.NEXT_PUBLIC_BASE_URL).concat(t),{body:r,headers:{Authorization:"Bearer ".concat(l.token)},method:"PATCH"});return l.handleResponse(e)}catch(e){return l.handleError(e)}}static async delete(e){let{endpoint:t,body:r}=e;try{let e=await n(t,{body:JSON.stringify(r),method:"DELETE"});return l.handleResponse(e)}catch(e){return l.handleError(e)}}}var o=l},12393:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(78643),n=r(85033);let s=async e=>{let t,{cvId:r,type:a}=e,s="/api/User/";return t="CoverLetter"===a?"".concat(s,"CoverLetter/getAllCoverLetter/").concat(r):"interviewPreps"===a?"".concat(s,"interview-preps/").concat(r):"".concat(s,"Cv/getAllUserCv/").concat(r),await n.Z.get({endpoint:t})};var l=r(79430),o=e=>{let t=(0,l.Q)("id"),{data:r,isError:n,isLoading:o}=(0,a.a)(["useGetCurrentUserResume",t],()=>s({cvId:t,type:e}),{enabled:!!t});return{currentCv:r,isLoading:o,isError:n}}}}]);