"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4986],{59033:function(e,t,a){a.d(t,{g:function(){return i}});var l=a(79430),r=a(7908),n=a(47907),s=a(64090);let i=e=>{let t;let[a,i]=(0,s.useState)(),{Resultid:o}=(0,n.useParams)();return t="resultPage"==e?o:(0,l.Q)("id"),{updateCoverLetter:async e=>{i(!0);try{let a="".concat(window.location.origin,"/api/User/CoverLetter/").concat(t);return await r.Z.patch(a,e)}catch(e){}finally{i(!1)}},isLoading:a}}},64986:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var l=a(3827),r=a(43399),n=a(64090),s=a(11212),i=a(2641),o=a(81349),u=a(21270),d=a(82670),c=a(30248),m=JSON.parse('[{"label":"Sharepoint developer","value":"Sharepoint Developer"},{"label":"Power Platform Developer","value":"Power Platform Developer"},{"label":"Power BI Developer","value":"Power BI Developer"}]'),p=a(35006),f=a(98010),v=a(12393),h=a(64095),y=a(79430),b=a(69633),T=a(59033),S=a(71126),g=a(50694);function w(e,t){let a;let l=null==e?void 0:e.jobTitle;return"string"==typeof l?a=m.find(e=>e.label===l)||{label:l,value:l}:l&&"object"==typeof l&&(a=l),{firstName:(null==e?void 0:e.firstName)||(null==t?void 0:t.firstName)||"",lastName:(null==e?void 0:e.lastName)||(null==t?void 0:t.lastName)||"",jobTitle:a||null,email:(null==e?void 0:e.email)||(null==t?void 0:t.email)||"",linkedin:(null==e?void 0:e.linkedin)||"",summary:(null==e?void 0:e.summary)||"",phone:(null==e?void 0:e.phone)||"",address:(null==e?void 0:e.address)||""}}var E=a(65615),N=a.n(E),x=e=>{let{type:t}=e,{form:a,onSubmit:E,personalInfo:x,isLoading:j,summary:A,setsummary:P}=function(e){let{currentCv:t}=(0,v.Z)(e),{data:a}=(0,S.useSession)(),l=(0,h.NL)(),r=(0,y.Q)("id"),[s,i]=(0,n.useState)(""),E=null==t?void 0:t.message,{toast:N}=(0,f.pm)(),[x,j]=(0,n.useState)(!1),{updateCvData:A}=(0,b.U)(),{updateCoverLetter:P}=(0,T.g)(),{updateinterviewPrep:I}=(0,g.D)(),D=[{label:"First Name",name:"firstName",placeholder:"Enter your first name",required:!0,type:o.u.TEXT},{label:"Last Name",name:"lastName",placeholder:"Enter your last name",required:!0,type:o.u.TEXT},{label:"Job Title",name:"jobTitle",placeholder:"job title",required:!1,options:m,type:o.u.SELECT_OR_TEXT},{label:"Email",name:"email",placeholder:"Email Address",required:!0,type:o.u.EMAIL},{label:"LinkedIn Profile URL",name:"linkedin",placeholder:"LinkedIn Profile URL ",required:!1,type:o.u.URL},{label:"Professional Summary",name:"summary",placeholder:"Summary",required:!1,type:o.u.TEXTAREA},{label:"Address",name:"address",placeholder:"Your Address",required:!1,type:o.u.TEXT},{label:"phone",name:"phone",placeholder:"Your phone phone",required:!1,type:o.u.TEXT}],_=c.z.object({email:c.z.string().optional().nullable().refine(e=>null===e||""===e||void 0===e||/.+@.+\..+/.test(e),{message:"Invalid email address"}),firstName:c.z.string().nonempty({message:"First name is required"}),lastName:c.z.string().nonempty({message:"Last name is required"}),jobTitle:c.z.any(),linkedin:c.z.string().optional().nullable(),summary:c.z.string().optional().nullable(),address:c.z.string().optional().nullable(),phone:c.z.string().optional().nullable()}),O=(0,d.cI)({resolver:(0,u.F)(_),defaultValues:w(E,a)});(0,n.useEffect)(()=>{E&&O.reset(w(E,a)),i(null==E?void 0:E.summary)},[E,O]);let{incrementSteps:k}=(0,p.w)(e);return{form:O,onSubmit:(0,n.useCallback)(async t=>{var a;let n={...t,summary:s,jobTitle:"object"==typeof(a=t.jobTitle)&&null!==a?a.value:a};j(!0);try{"Cv"===e?await A(n):"interviewPreps"===e?await I(n):await P(n),N({title:"Success! ✅",description:"Personal Info Added Successfully"}),l.invalidateQueries(["useGetCurrentUserResume",r]),k(1)}catch(e){N({title:"Error",description:e.message||"Failed to update data."})}finally{j(!1)}},[e,A,P,N,l,r,k]),isLoading:x,personalInfo:D,summary:s,setsummary:i}}(t);return(0,l.jsx)("div",{children:(0,l.jsx)(r.l0,{...a,className:"w-full",children:(0,l.jsxs)("form",{onSubmit:null==a?void 0:a.handleSubmit(E),children:[(0,l.jsx)("h2",{className:"text-2xl font-bold leading-7 text-accent mb-3",children:"Personal Information"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4 w-full ",children:null==x?void 0:x.map((e,t)=>"summary"!=e.name&&(0,l.jsx)(s.Z,{...e,form:a},t))}),(0,l.jsx)("div",{children:null==x?void 0:x.map((e,t)=>{if("summary"===e.name)return(0,l.jsxs)("div",{className:"mt-7",children:[(0,l.jsx)("p",{className:"text-gray-700 dark:text-slate-50",children:"Description (optional)"}),(0,l.jsx)(N(),{theme:"snow",value:A,onChange:P,style:{height:"100px"},className:"w-full overflow-y-scroll"})]})})}),(0,l.jsx)(i.Z,{disabled:j,text:j?"loading..":"Next",className:"mt-10"})]})})})}},69633:function(e,t,a){a.d(t,{U:function(){return i}});var l=a(98010),r=a(79430),n=a(7908),s=a(47907);let i=e=>{let t;let{Resultid:a}=(0,s.useParams)();t="resultPage"==e?a:(0,r.Q)("id");let{toast:i}=(0,l.pm)();return{updateCvData:async e=>{try{let a="".concat(window.location.origin,"/api/User/Cv/").concat(t),l=await n.Z.patch(a,e);return i({title:"Success! ✅",description:"Cv Updated"}),l}catch(e){i({title:"Error",description:JSON.parse(e.message).error||"Something went wrong, please try again.",variant:"destructive",className:"rounded-xl"})}}}}},2641:function(e,t,a){var l=a(3827),r=a(84590);a(64090),t.Z=e=>{let{text:t,type:a,className:n,disabled:s=!1}=e;return(0,l.jsx)("div",{className:"flex justify-end ".concat(n),children:(0,l.jsx)(r.Button,{disabled:s,type:a,className:"bg-[#F9E547] buttonShadow text-black hover:bg-yellow-600  font-bold py-2 px-4 rounded-r",children:t})})}},50694:function(e,t,a){a.d(t,{D:function(){return s}}),a(79430);var l=a(7908),r=a(47907),n=a(64090);let s=()=>{let[e,t]=(0,n.useState)(),{results:a}=(0,r.useParams)("results");return{updateinterviewPrep:async e=>{t(!0);try{let t="".concat(window.location.origin,"/api/User/interview-preps/create-interviewPrep/").concat(a);return await l.Z.patch(t,e)}catch(e){}finally{t(!1)}},isLoading:e}}},98010:function(e,t,a){a.d(t,{pm:function(){return m}});var l=a(64090);let r=0,n=new Map,s=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?s(a):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],u={toasts:[]};function d(e){u=i(u,e),o.forEach(e=>{e(u)})}function c(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>d({type:"DISMISS_TOAST",toastId:a});return d({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||l()}}}),{id:a,dismiss:l,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=l.useState(u);return l.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}}}]);